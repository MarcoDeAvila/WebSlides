{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static '/home.css' %}">
    <title>WebSlides</title>
</head>
<body>
    <header>
        <a href="">
            <h2>WebSlides</h2>
        </a>
        <nav>
            {% if user.is_authenticated and user.is_superuser %}
            <a href= "nueva">Create Slides</a>
            {% endif %}
            <a href= {% url "usuarios:logout" %} class="nav-link">Logout</a>
        </nav>
    </header>

    <div class="card-container">
        {% for presentacion, autor in presentaciones_con_autores %}
        <div class="card">
            <div class="card-title">
                <a href="{% url 'slides:temporal' presentacion %}">
                    {{presentacion}}
                </a>
            </div>
            <div class="card-button">
                {% if user.is_authenticated and autor == user.username %}
                    <button id='{{presentacion}}' class='edit_button'>Editar</button>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>

<script>

    const btnEditOpenModal = document.querySelectorAll('.edit_button');
    btnEditOpenModal.forEach(btn => {
        btn.addEventListener("click", ()=> {
            const filename = event.target.id;
            window.location.href = "editar?filename=" + filename;
        });
    });

</script>

</body>
</html>